<!DOCTYPE HTML>
<html data-ng-app='QuantumAnimation'>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="quantumAnimation.css" />
<title>Quantum Gate Playground</title>
</head>

<body data-ng-controller='QuantumAnimationController'>

<h1>Quantum Computer Gate Playground</h1>

<p>
    Intended to help quantum computation students explore and play with
    a number of different quantum computer gates.
</p>

<p>
    The blue discs represent basis state amplitudes:
    for a given amplitude,
    the radius is its magnitude and arrow direction is its phase.
    When performing operations like the Hadamard and QFT operations,
    the discs are animated in a manner that shows states being split
    and recombined (arrow head joined to arrow tail),
    demonstrating constructive and destructive interference.
</p>

<div data-ng-cloak class="dynamicSection">
    <div>
        <label for="numBits">Number of qubits:</label>
        <select id="numBits" data-ng-model='numBitsSelected' data-ng-change="onChangeNumBits()">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
        </select>
    </div>

    <form data-ng-submit="performOperation()">
    <fieldset class="quantumOpSpecification">
    <legend>Specify the operation to be performed</legend>
    <div class="quantumOpSpecification_item">
        <label class="quantumOpSpecification_label"  for="operation">Operator:</label>
        <select name="operationId" id="operation"
            data-ng-model='operationIndex' data-ng-change="onChangeOperation()">
            <option data-ng-repeat='operation in operations' ng-value="$index"
                data-ng-bind='operation.name'>
            </option>
        </select>
    </div>

    <div class="quantumOpSpecification_item"
        data-ng-show="numBits &gt; 1"
        data-ng-class="{quantumOpSpecification_item_disabled: controlBitsDisabled}">
        <label class="quantumOpSpecification_label">Control bits:</label>
        <span data-ng-hide="controlBitsDisabled">
            <span data-ng-repeat='bitLabel in bitLabels'>
                <label ng-bind='bitLabel' for="control{{bitLabel}}"
                    class="quantumOpSpecification_checkboxLabel"></label>
                <input type="checkbox" id='control{{bitLabel}}'
                    data-ng-model='controlBits[bitLabel]'
                    data-ng-disabled="controlBitsDisabled"
                    data-ng-change="onChangeControlBits()"/>
            </span>
        </span>
        <span data-ng-show="controlBitsDisabled">N/A</span>
        <span data-ng-show="operation.op === 'qft'">
            Not supported yet for QFT.
        </span>
    </div>
    <div class="quantumOpSpecification_item"
        data-ng-show="numBits &gt; 1"
        data-ng-class="{quantumOpSpecification_item_disabled: targetBitsDisabled}">
        <label class="quantumOpSpecification_label">Target bits:</label>
        <span data-ng-repeat='bitLabel in bitLabels'>
            <label ng-bind='bitLabel' for="target{{bitLabel}}"
                class="quantumOpSpecification_checkboxLabel"></label>
            <input type="checkbox" id='target{{bitLabel}}'
                data-ng-model='targetBits[bitLabel]'
                data-ng-disabled="targetBitsDisabled"
                data-ng-change="onChangeTargetBits()"/>
        </span>
        <button type="button" data-ng-click='selectAllAsTargetBits()'>Select All Non-Control Bits</button>
    </div>

    <div class="quantumOpSpecification_item"
        data-ng-class="{quantumOpSpecification_item_disabled: !operation.takesRotationAngle}">
        <label for="rotationAngle">Rotation angle:</label>
        <span data-ng-show="operation.takesRotationAngle">
            <input type="number" step="0.000000000000001"
                name="rotationAngle" id="rotationAngle"
                data-ng-required="operation.takesRotationAngle"
                data-ng-model="rotationAngle" data-ng-disabled="!operation.takesRotationAngle"/>
            <input type="radio" id="rotationUnitsDegrees" data-ng-model="rotationUnits" value="degrees"/>
            <label for="rotationUnitsDegrees">Degrees</label>
            <input type="radio" id="rotationUnitsRadians" data-ng-model="rotationUnits" value="radians"/>
            <label for="rotationUnitsRadians">Radians</label>
        </span>
        <span data-ng-hide="operation.takesRotationAngle">N/A</span>
    </div>

    <div class="quantumOpSpecification_item">
        <input type="submit" data-ng-disabled="!validInputs()" value="Perform Operation"></input>
    </div>

    </fieldset>

    <div class="qstate" data-ng-class="{qstate__singlequbit: numBits === 1}">
         <span class="label">Quantum state:</span>
         <output data-ng-bind='animatedQubitsContainer.qstate'></output>
    </div>

    </form>

    <svg id='animatedQubitsSvg' data-animated-qubits='animatedQubitsContainer'
        class='animatedQubits'
        data-ng-class="{animatedQubits__singlequbit: numBits === 1}">
    </svg>

</div>


<p>
    Return to quantum intro:
    <ul>
       <li><a href="https://ccjeff.github.io/quantum_intro/">quantum intro</a>.</li>
    </ul>
</p>


<p>
<small>Copyright (c) ccjeff</small>
</p>

<div data-ng-hide="true">
    Loading. This may take a few seconds.....
</div>

<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.min.js" type="text/javascript"></script>

<script src="app/bower_components/animated-qubits/animatedQubits.min.js" type="text/javascript"></script>
<script src="app/bower_components/d3/d3.min.js" type="text/javascript"></script>
<script src="app/bower_components/d3-measure-text/lib/d3-measure-text.js" type="text/javascript"></script>
<script src="app/bower_components/d3-transform/src/d3-transform.js" type="text/javascript"></script>
<script src="app/bower_components/jsqubits/lib/jsqubits.js" type="text/javascript"></script>
<script src="app/bower_components/q/q.js" type="text/javascript"></script>
<script src="app/bower_components/lodash/dist/lodash.min.js" type="text/javascript"></script>


<script src="./src/quantumAnimationController.js" type="text/javascript"></script>
<script src="./src/animatedQubitsDirective.js" type="text/javascript"></script>
<script src="./src/quantumAnimationApp.js" type="text/javascript"></script>

<script src="browserSupportDetection.js"></script>

</body>
</html>
